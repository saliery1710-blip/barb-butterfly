<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Prayer Garden</title>

<style>

body {
  margin: 0;
  font-family: Verdana;
  background: linear-gradient(#ffe6f5, #e6f0ff);
  color: #6a5d6d;
  overflow-x: hidden;
  animation: glowBG 6s infinite alternate;
}

@keyframes glowBG {
  from { box-shadow: inset 0 0 40px #ffe6ff; }
  to { box-shadow: inset 0 0 80px #cce6ff; }
}

/* Intro */
#magicIntro {
  position: fixed;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle, #fff 0%, #ffd6ec 50%, #e6f0ff 100%);
  z-index: 9999;
  animation: fadeIntro 2.5s forwards;
}

@keyframes fadeIntro {
  0% { opacity: 1; }
  100% { opacity: 0; visibility: hidden; }
}

/* Contenedor */
.container {
  width: 90%;
  max-width: 800px;
  margin: 60px auto;
  background: #fff8ee;
  border: 5px double #f4b8cd;
  padding: 30px;
  text-align: center;
  border-radius: 20px;
  position: relative;
  z-index: 2;
  transition: transform 0.3s ease;
}

.container:hover {
  transform: scale(1.02);
}

/* Campo de estrellas */
#starField {
  position: fixed;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.star {
  position: absolute;
  color: white;
  font-size: 18px;
  animation: twinkle 3s infinite alternate;
  text-shadow: 0 0 8px #fff, 0 0 15px #ffb6ff;
}

@keyframes twinkle {
  from { opacity: 0.4; transform: scale(1); }
  to { opacity: 1; transform: scale(1.3); }
}

input, textarea {
  width: 90%;
  padding: 10px;
  margin: 10px 0;
  border: 2px solid #d8b4ff;
  border-radius: 10px;
  font-family: Verdana;
}

button {
  background: #ffccf9;
  border: 2px solid #f4b8cd;
  padding: 10px 20px;
  border-radius: 15px;
  cursor: pointer;
  transition: transform 0.2s ease;
}

button:hover {
  transform: scale(1.1);
}

.prayer-counter {
  margin-top: 20px;
  font-weight: bold;
  color: #ff69b4;
  font-size: 18px;
}

a {
  display: inline-block;
  margin-top: 20px;
  text-decoration: none;
  color: #6a5d6d;
  font-weight: bold;
}

a:hover {
  color: #ff69b4;
}

</style>
</head>

<body>

<div id="magicIntro"></div>
<div id="starField"></div>
  <audio id="magicSound">
  <source 
    src="https://assets.mixkit.co/sfx/preview/mixkit-magic-sparkle-902.mp3" type="audio/mpeg">
  </audio>
<audio id="magicSound" 
  src="https://assets.mixkit.co/sfx/preview/mixkit-magic-sparkle-902.mp3"></audio>

<div class="container">

<h1>ðŸŒ¸ Prayer Garden âœ¨</h1>

<p>EscribÃ­ tu pedido y una estrella brillarÃ¡ en el cielo.</p>

<form id="prayerForm">
<input type="text" placeholder="Tu nombre (opcional)">
<textarea placeholder="EscribÃ­ tu pedido aquÃ­..." required></textarea>
<button type="submit">Enviar oraciÃ³n</button>
</form>

<div class="prayer-counter">
Oraciones recibidas: <span id="count">00000</span>
<div id="prayerList" style="margin-top:20px; text-align:left;"></div>

<a href="index.html">â¬… Volver al Portal</a>

</div>

<script>

const form = document.getElementById("prayerForm");
const starField = document.getElementById("starField");

let savedStars = localStorage.getItem("starsCount");
if (!savedStars) savedStars = 0;

for (let i = 0; i < savedStars; i++) {
  createStar();
}

document.getElementById("count").innerText =
  savedStars.toString().padStart(5, "0");

form.addEventListener("submit", function(e) {
  e.preventDefault();

  const name = form.querySelector("input").value || "AnÃ³nimo";
  const message = form.querySelector("textarea").value;

  if (!message.trim()) return;

  savedStars++;
  localStorage.setItem("starsCount", savedStars);

  document.getElementById("count").innerText =
    savedStars.toString().padStart(5, "0");

  createStar();
function renderPrayers() {
  const prayerList = document.getElementById("prayerList");
  const prayers = JSON.parse(localStorage.getItem("prayers")) || [];

  prayerList.innerHTML = "";

  prayers.slice().reverse().forEach(p => {
    const div = document.createElement("div");
    div.style.background = "#fff0f5";
    div.style.padding = "10px";
    div.style.margin = "8px 0";
    div.style.borderRadius = "10px";
    div.innerHTML = "<strong>ðŸŒ¸ " + p.name + "</strong><br>" + p.message;
    prayerList.appendChild(div);
  });
}

renderPrayers();
  // ðŸ”” CHING
  const sound = 
    document.getElementById("magicSound");
  sound.volume = 0.5;
  sound.play();

  // ðŸ’¾ Guardar oraciÃ³n
  let prayers = JSON.parse(localStorage.getItem("prayers")) || [];
  prayers.push({ name, message });
  localStorage.setItem("prayers", JSON.stringify(prayers));

  renderPrayers();

  form.reset();
});

function createStar() {
  const star = document.createElement("div");
  star.className = "star";
  star.innerHTML = "âœ¦";
  star.style.left = Math.random() * window.innerWidth + "px";
  star.style.top = Math.random() * window.innerHeight + "px";
  starField.appendChild(star);
}

</script>

</body>
</html>
